# 内存管理

---

> ## iOS 程序的内存布局

低地址
｜ 保留
｜ ---------------------------------------------------------------------------------
｜ 代码段（_\_\TEXT）: 编译之后的代码
｜ ---------------------------------------------------------------------------------
｜ 数据段（_\_\DATA）
｜ - 字符串常量 ： 比如`NSString *str = @"123";`
｜ - 已初始化数据 ：已初始化的全局变量，静态变量
｜ - 未初始化数据 ：未初始化的全局变量，静态变量
｜ ---------------------------------------------------------------------------------
｜ 堆⬇️ ：通过alloc，malloc， calloc等动态分配的空间。分配的内存空间地址越来越大
｜ ---------------------------------------------------------------------------------
｜ 栈⬆️ ：函数调用开销，比如局部变量。分配的内存空间地址越来越小
｜ ---------------------------------------------------------------------------------
｜ 内核区
高地址

> ## weak和assign的区别

不同点：

* assign 可以用于非OC对象，weak必须用在OC对象上
* dfdf



